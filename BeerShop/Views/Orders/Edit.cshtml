@model BeerShop.Models.Order
@{
    ViewBag.Title = "Edit";
}
<table>
    <tr>
        <th>
            Order ID
        </th>
        <th>
            Full name
        </th>
        <th>
            Created Date
        </th>
    </tr>
    <tr>
        <td>
            @Html.DisplayFor(model => model.OrderID)
        </td>
        <td>
            @Html.DisplayFor(model => model.customer.firstName)
            @Html.DisplayFor(model => model.customer.lastName)
        </td>
        <td>
            @Html.DisplayFor(model => model.createdDate)
        </td>
    </tr>
</table>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Item</legend>
        <h2>
            Edit order details</h2>
        <br />
        @Html.HiddenFor(model => model.OrderID)
        @Html.HiddenFor(model => model.customer.UserID)
        @Html.HiddenFor(model => model.createdDate)
        @Html.HiddenFor(model => model.orderItems)

        <div class="editor-label">
            @Html.LabelFor(model => model.status)
            <h4>Add '1' for "pending", '2' for "processing",'3' for "dispached",'4' for "delivered", or '5' for "canceled"</h4>
        </div>
        <div class="editor-field">
@*            @{string st = "pending";}
            @Html.DropDownList(st, ViewBag.SelectList as SelectList)
            @{switch (st)
              {
                  case "pending": Model.status = 1;
                        break;
                  case "processing": Model.status = 2;
                           break;
                  case "dispached": Model.status = 3;
                          break;
                  case "delivered": Model.status = 4;
                          break;
                  case "canceled": Model.status = 5;
                         break;
                  default: Model.status = -1;
                             break;
              }
            }*@
            @Html.EditorFor(model => model.status)
            @Html.ValidationMessageFor(model => model.status)
            @*@Html.HiddenFor(model => model.orderItems)*@
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.dispachedDate)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.dispachedDate)
            @Html.ValidationMessageFor(model => model.dispachedDate)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.deliveredDate)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.deliveredDate)
            @Html.ValidationMessageFor(model => model.deliveredDate)
        </div>
        <p>
            <input type="submit" value="Continue" />
        </p>
    </fieldset>
}
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
